apiVersion: pipeline.tekton.dev/v1beta1
kind: PipelineRun
metadata:
  annotations:
    tekton.dev/git-status: "true"
    tekton.dev/status-context: tekton-ci
  creationTimestamp: null
  generateName: my-pipeline-run-
  labels:
    app.kubernetes.io/managed-by: dsl
    app.kubernetes.io/part-of: Tekton-CI
spec:
  pipelineSpec:
    tasks:
    - name: git-clone
      taskSpec:
        steps:
        - command:
          - /ko-app/git-init
          - -url
          - https://github.com/bigkevmcd/github-tool.git
          - -revision
          - refs/pulls/4
          - -path
          - $(workspaces.source.path)
          env:
          - name: REPO_NAME
            value: github.com/bigkevmcd/github-tool
          - name: CI_PROJECT_DIR
            value: $(workspaces.source.path)
          image: gcr.io/tekton-releases/github.com/tektoncd/pipeline/cmd/git-init
          name: git-clone
          resources: {}
        workspaces:
        - name: source
      workspaces:
      - name: source
        workspace: git-checkout
    workspaces:
    - name: git-checkout
  serviceAccountName: test-account
  workspaces:
  - name: git-checkout
    persistentVolumeClaim:
      claimName: my-volume-claim-123
